<div class="container my-5">
  <!-- Carrusel principal -->
  <div
    id="homeCarousel"
    class="carousel slide shadow-sm rounded overflow-hidden"
    data-bs-ride="carousel"
    data-bs-interval="7000"
    data-bs-pause="hover"
  >
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img
          src="assets/images/skate1.webp"
          class="d-block w-100"
          alt="Slide 1"
          style="max-height: 400px; object-fit: contain"
        />
      </div>
      <div class="carousel-item">
        <img
          src="assets/images/skate2.webp"
          class="d-block w-100"
          alt="Slide 2"
          style="max-height: 400px; object-fit: contain"
        />
      </div>
      <div class="carousel-item">
        <img
          src="assets/images/skate3.webp"
          class="d-block w-100"
          alt="Slide 3"
          style="max-height: 400px; object-fit: contain"
        />
      </div>
    </div>

    <button
      class="carousel-control-prev"
      type="button"
      data-bs-target="#homeCarousel"
      data-bs-slide="prev"
    >
      <span class="carousel-control-prev-icon"></span>
      <span class="visually-hidden">Anterior</span>
    </button>
    <button
      class="carousel-control-next"
      type="button"
      data-bs-target="#homeCarousel"
      data-bs-slide="next"
    >
      <span class="carousel-control-next-icon"></span>
      <span class="visually-hidden">Siguiente</span>
    </button>
  </div>

  <!-- Introducción -->
  <section class="bg-white p-4 mt-5 rounded shadow-sm">
    <h2 class="text-dark mb-3 fs-3">Bienvenido</h2>
    <p class="text-dark fs-5">
      Descubre el mejor material de skate en un solo lugar. Desde tablas hasta
      tornillos, te ofrecemos productos de calidad con diseños únicos.
    </p>
  </section>

  <!-- Tablas destacadas -->
  <section class="mt-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h3 class="fs-4 mb-0">Tablas Destacadas</h3>
      <a routerLink="/tablas" class="btn btn-dark px-3 py-2">Ver todas</a>
    </div>

    <div class="position-relative">
      <button
        class="btn btn-light arrow prev d-none d-md-block position-absolute top-50 start-0 translate-middle-y z-2"
        (click)="prevSlideT()"
        aria-label="Anterior"
      >
        <i class="bi bi-chevron-left fs-5"></i>
      </button>

      <div
        #cardCarouselTablas
        class="d-flex flex-nowrap gap-3 overflow-auto pb-2 px-1 hide-scroll"
        style="scroll-snap-type: x mandatory"
      >
        @for(tabla of tablas|slice:0:6; track tabla.id){
        <div
          class="flex-shrink-0"
          style="width: 260px; scroll-snap-align: start"
        >
          <div
            class="card h-100 shadow-sm bg-white rounded border-0 card-hover"
            [routerLink]="['/tablas', tabla.id]"
          >
            <img
              [src]="tabla.imagen_url"
              [alt]="tabla.nombre"
              class="card-img-top p-3"
              style="max-height: 180px; object-fit: contain"
            />
            <div class="card-body text-dark d-flex flex-column">
              <h6 class="card-title fs-6">{{ tabla.nombre }}</h6>
              <p class="card-text small mb-1">
                <strong>Precio:</strong> {{ tabla.precio | number : "1.2-2" }}€
              </p>
              <p class="card-text small mb-2">
                <strong>Marca:</strong> {{ tabla.marca }}
              </p>
              @if(tabla.cantidad <= 5 && tabla.cantidad > 0){
              <p class="text-danger small mt-auto">
                <strong>Últimas unidades!</strong>
              </p>
              } @else if(tabla.cantidad == 0){
              <p class="text-danger small mt-auto">
                <strong>Sin Stock</strong>
              </p>
              }
            </div>
          </div>
        </div>
        }
      </div>

      <button
        class="btn btn-light arrow next d-none d-md-block position-absolute top-50 end-0 translate-middle-y z-2"
        (click)="nextSlideT()"
        aria-label="Siguiente"
      >
        <i class="bi bi-chevron-right fs-5"></i>
      </button>
    </div>
  </section>

  <!-- Ruedas destacadas -->
  <section class="mt-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h3 class="fs-4 mb-0">Ruedas Destacadas</h3>
      <a routerLink="/ruedas" class="btn btn-dark px-3 py-2">Ver todas</a>
    </div>

    <div class="position-relative">
      <button
        class="btn btn-light arrow prev d-none d-md-block position-absolute top-50 start-0 translate-middle-y z-2"
        (click)="prevSlideR()"
        aria-label="Anterior"
      >
        <i class="bi bi-chevron-left fs-5"></i>
      </button>

      <div
        #cardCarouselRuedas
        class="d-flex flex-nowrap gap-3 overflow-auto pb-2 px-1 hide-scroll"
        style="scroll-snap-type: x mandatory"
      >
        @for(rueda of ruedas; track rueda.id){
        <div
          class="flex-shrink-0"
          style="width: 260px; scroll-snap-align: start"
        >
          <div
            class="card h-100 shadow-sm bg-white rounded border-0 card-hover"
            [routerLink]="['/ruedas', rueda.id]"
          >
            <img
              [src]="rueda.imagen_url"
              [alt]="rueda.nombre"
              class="card-img-top p-3"
              style="max-height: 180px; object-fit: contain"
            />
            <div class="card-body text-dark d-flex flex-column">
              <h6 class="card-title fs-6">{{ rueda.nombre }}</h6>
              <p class="card-text small mb-1">
                <strong>Precio:</strong> {{ rueda.precio | number : "1.2-2" }}€
              </p>
              <p class="card-text small mb-2">
                <strong>Marca:</strong> {{ rueda.marca }}
              </p>
              @if(rueda.cantidad <= 5 && rueda.cantidad > 0){
              <p class="text-danger small mt-auto">
                <strong>Últimas unidades!</strong>
              </p>
              } @else if(rueda.cantidad == 0){
              <p class="text-danger small mt-auto">
                <strong>Sin Stock</strong>
              </p>
              }
            </div>
          </div>
        </div>
        }
      </div>

      <button
        class="btn btn-light arrow next d-none d-md-block position-absolute top-50 end-0 translate-middle-y z-2"
        (click)="nextSlideR()"
        aria-label="Siguiente"
      >
        <i class="bi bi-chevron-right fs-5"></i>
      </button>
    </div>
  </section>
</div>
